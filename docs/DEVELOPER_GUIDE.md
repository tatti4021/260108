# è²¡å‹™ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ  é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰

Version 1.0.0

---

## ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
2. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
3. [ä¸»è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®èª¬æ˜](#ä¸»è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®èª¬æ˜)
4. [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼](#ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼)
5. [é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
6. [ãƒ†ã‚¹ãƒˆ](#ãƒ†ã‚¹ãƒˆ)
7. [æ‹¡å¼µã‚¬ã‚¤ãƒ‰](#æ‹¡å¼µã‚¬ã‚¤ãƒ‰)
8. [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„](#ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„)
9. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ä»¥ä¸‹ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§æ§‹ç¯‰ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ï¼š

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Vanilla JavaScript (ES6 Modules)
- **UI**: HTML5 + CSS3
- **ã‚°ãƒ©ãƒ•æç”»**: Chart.js 4.4.1
- **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–**: Browser LocalStorage
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³**: MVCçš„ãªåˆ†é›¢ï¼ˆModel-View-Utilsï¼‰

### è¨­è¨ˆåŸå‰‡

1. **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ€§**: æ©Ÿèƒ½ã”ã¨ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã—ã€å†åˆ©ç”¨æ€§ã‚’é«˜ã‚ã‚‹
2. **å˜ä¸€è²¬ä»»ã®åŸå‰‡**: å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯1ã¤ã®è²¬ä»»ã®ã¿ã‚’æŒã¤
3. **ç–çµåˆ**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®ä¾å­˜ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹
4. **çŠ¶æ…‹ç®¡ç†ã®é›†ä¸­åŒ–**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã¯`state.js`ã§ä¸€å…ƒç®¡ç†
5. **è‡ªå‹•é€£æº**: P/L â†’ B/S â†’ C/Fã®è‡ªå‹•é€£æºã«ã‚ˆã‚Šæ•´åˆæ€§ã‚’ä¿ã¤

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   index.html                     â”‚
â”‚              (Entry Point & Layout)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    app.js                        â”‚
â”‚            (Application Bootstrap)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Router  â”‚â”‚State   â”‚â”‚Integration â”‚
â”‚        â”‚â”‚Manager â”‚â”‚Manager     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚        â”‚        â”‚
    â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Views Layer          â”‚
â”‚  (dashboard, pl, bs, cf,     â”‚
â”‚   analysis, forecast,        â”‚
â”‚   settings, charts)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Models  â”‚â”‚Utils   â”‚â”‚Calc    â”‚
â”‚        â”‚â”‚        â”‚â”‚Logic   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
/home/user/260108/
â”œâ”€â”€ index.html              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ README.md               # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â”‚
â”œâ”€â”€ assets/                 # é™çš„ãƒªã‚½ãƒ¼ã‚¹
â”‚   â””â”€â”€ images/             # ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€â”€ src/                    # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ css/                # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ variables.css   # CSSå¤‰æ•°å®šç¾©
â”‚   â”‚   â”œâ”€â”€ styles.css      # åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ components.css  # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚
â”‚   â””â”€â”€ js/                 # JavaScriptã‚³ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ app.js          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼
â”‚       â”œâ”€â”€ router.js       # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç®¡ç†
â”‚       â”‚
â”‚       â”œâ”€â”€ models/         # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚   â”œâ”€â”€ company.js      # ä¼šç¤¾æƒ…å ±ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚   â”œâ”€â”€ period.js       # æœŸé–“ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚   â””â”€â”€ forecast.js     # äºˆæ¸¬è¨­å®šãƒ¢ãƒ‡ãƒ«
â”‚       â”‚
â”‚       â”œâ”€â”€ views/          # ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â”œâ”€â”€ dashboard.js    # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢
â”‚       â”‚   â”œâ”€â”€ pl.js           # P/Lç”»é¢
â”‚       â”‚   â”œâ”€â”€ bs.js           # B/Sç”»é¢
â”‚       â”‚   â”œâ”€â”€ cf.js           # C/Fç”»é¢
â”‚       â”‚   â”œâ”€â”€ analysis.js     # è²¡å‹™åˆ†æç”»é¢
â”‚       â”‚   â”œâ”€â”€ forecast.js     # äºˆæ¸¬ãƒ»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”»é¢
â”‚       â”‚   â”œâ”€â”€ settings.js     # è¨­å®šç”»é¢
â”‚       â”‚   â””â”€â”€ charts.js       # ã‚°ãƒ©ãƒ•æç”»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â”‚
â”‚       â””â”€â”€ utils/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚           â”œâ”€â”€ state.js        # çŠ¶æ…‹ç®¡ç†
â”‚           â”œâ”€â”€ storage.js      # LocalStorageæ“ä½œ
â”‚           â”œâ”€â”€ pl-calc.js      # P/Lè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
â”‚           â”œâ”€â”€ bs-calc.js      # B/Sè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
â”‚           â”œâ”€â”€ cf-calc.js      # C/Fè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
â”‚           â”œâ”€â”€ ratios.js       # è²¡å‹™æ¯”ç‡è¨ˆç®—
â”‚           â”œâ”€â”€ integration.js  # è²¡å‹™ä¸‰è¡¨é€£æº
â”‚           â”œâ”€â”€ forecast-calc.js # äºˆæ¸¬è¨ˆç®—
â”‚           â”œâ”€â”€ chart-config.js # Chart.jsè¨­å®š
â”‚           â”œâ”€â”€ csv.js          # CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚           â”œâ”€â”€ json-io.js      # JSON I/O
â”‚           â””â”€â”€ input-helpers.js # å…¥åŠ›è£œåŠ©
â”‚
â”œâ”€â”€ tests/                  # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ test-runner.html    # ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å®Ÿè¡Œï¼‰
â”‚   â”œâ”€â”€ unit/               # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pl-calc.test.js     # P/Lè¨ˆç®—ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ bs-calc.test.js     # B/Sè¨ˆç®—ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ ratios.test.js      # è²¡å‹™æ¯”ç‡ãƒ†ã‚¹ãƒˆ
â”‚   â”‚
â”‚   â””â”€â”€ integration/        # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚       â”œâ”€â”€ state.test.js       # çŠ¶æ…‹ç®¡ç†ãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ integration.test.js # è²¡å‹™ä¸‰è¡¨é€£æºãƒ†ã‚¹ãƒˆ
â”‚
â””â”€â”€ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ USER_MANUAL.md      # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«
    â””â”€â”€ DEVELOPER_GUIDE.md  # é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰ï¼ˆæœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
```

---

## ä¸»è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®èª¬æ˜

### 1. app.js

**å½¹å‰²**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

**ä¸»ãªæ©Ÿèƒ½**:
- ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–
- ãƒ«ãƒ¼ã‚¿ãƒ¼ã®åˆæœŸåŒ–
- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
- è²¡å‹™ä¸‰è¡¨é€£æºã®åˆæœŸåŒ–

**ä¸»è¦ãªé–¢æ•°**:
```javascript
async function initApp() {
  // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
}
```

---

### 2. router.js

**å½¹å‰²**: ãƒšãƒ¼ã‚¸é·ç§»ã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ç®¡ç†

**ä¸»ãªæ©Ÿèƒ½**:
- ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- ãƒ“ãƒ¥ãƒ¼ã®å‹•çš„èª­ã¿è¾¼ã¿
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ç®¡ç†

**ä¸»è¦ãªé–¢æ•°**:
```javascript
export function initRouter() {
  // ãƒ«ãƒ¼ã‚¿ãƒ¼åˆæœŸåŒ–
}

export function navigateTo(page) {
  // ãƒšãƒ¼ã‚¸é·ç§»
}
```

**ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«**:
```javascript
const routes = {
  'dashboard': () => import('./views/dashboard.js'),
  'pl': () => import('./views/pl.js'),
  'bs': () => import('./views/bs.js'),
  'cf': () => import('./views/cf.js'),
  'analysis': () => import('./views/analysis.js'),
  'forecast': () => import('./views/forecast.js'),
  'settings': () => import('./views/settings.js')
};
```

---

### 3. state.js

**å½¹å‰²**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®çŠ¶æ…‹ç®¡ç†

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```javascript
{
  company: {
    name: string,
    industry: string,
    fiscalYearEnd: string
  },
  periods: [
    {
      year: number,
      month: number,
      pl: { /* P/Lãƒ‡ãƒ¼ã‚¿ */ },
      bs: { /* B/Sãƒ‡ãƒ¼ã‚¿ */ },
      cf: { /* C/Fãƒ‡ãƒ¼ã‚¿ */ }
    },
    // ... è¤‡æ•°æœŸé–“
  ],
  forecast: {
    revenueGrowthRate: number,
    cogsRate: number,
    sgaGrowthRate: number
  },
  currentPeriodIndex: number,
  initialized: boolean
}
```

**ä¸»è¦ãªé–¢æ•°**:
```javascript
// çŠ¶æ…‹ã®å–å¾—
export const getState = () => { ... }

// çŠ¶æ…‹ã®æ›´æ–°
export const setState = (newState, autoSave = true) => { ... }

// çŠ¶æ…‹å¤‰æ›´ã®è³¼èª­
export const subscribe = (callback) => { ... }

// åˆæœŸåŒ–
export const initialize = (options = {}) => { ... }

// æœŸé–“æ“ä½œ
export const updatePeriod = (index, periodData) => { ... }
export const getCurrentPeriod = () => { ... }
```

**è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³**: Observer Patternï¼ˆè³¼èª­/é€šçŸ¥ï¼‰

---

### 4. storage.js

**å½¹å‰²**: LocalStorageã¸ã®ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

**ä¸»è¦ãªé–¢æ•°**:
```javascript
// ãƒ‡ãƒ¼ã‚¿ä¿å­˜
export function save(key, data) { ... }

// ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
export function load(key) { ... }

// ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
export function remove(key) { ... }

// ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒªã‚¢
export function clear() { ... }
```

**æ³¨æ„ç‚¹**:
- ãƒ‡ãƒ¼ã‚¿ã¯JSONå½¢å¼ã§ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º
- LocalStorageã®å®¹é‡åˆ¶é™ã«æ³¨æ„ï¼ˆé€šå¸¸5-10MBï¼‰
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…æ¸ˆã¿

---

### 5. pl-calc.js, bs-calc.js, cf-calc.js

**å½¹å‰²**: å„è²¡å‹™è«¸è¡¨ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

**pl-calc.js ã®ä¸»è¦é–¢æ•°**:
```javascript
// å£²ä¸Šç·åˆ©ç›Š = å£²ä¸Šé«˜ - å£²ä¸ŠåŸä¾¡
export function calculateGrossProfit(revenue, cogs) { ... }

// å–¶æ¥­åˆ©ç›Š = å£²ä¸Šç·åˆ©ç›Š - è²©ç®¡è²»
export function calculateOperatingProfit(revenue, cogs, sgaExpenses) { ... }

// å½“æœŸç´”åˆ©ç›Š = çµŒå¸¸åˆ©ç›Š - ç¨é‡‘
export function calculateNetProfit(ordinaryProfit, tax) { ... }

// åˆ©ç›Šç‡è¨ˆç®—
export function calculateProfitMargins(pl) { ... }
```

**bs-calc.js ã®ä¸»è¦é–¢æ•°**:
```javascript
// è³‡ç”£åˆè¨ˆ
export function calculateTotalAssets(assets) { ... }

// è² å‚µåˆè¨ˆ
export function calculateTotalLiabilities(liabilities) { ... }

// ãƒãƒ©ãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯
export function checkBalance(assets, liabilities, equity) { ... }
```

**cf-calc.js ã®ä¸»è¦é–¢æ•°**:
```javascript
// å–¶æ¥­CFè¨ˆç®—
export function calculateOperatingCF(cf) { ... }

// æŠ•è³‡CFè¨ˆç®—
export function calculateInvestingCF(cf) { ... }

// è²¡å‹™CFè¨ˆç®—
export function calculateFinancingCF(cf) { ... }

// æœŸæœ«ç¾é‡‘æ®‹é«˜è¨ˆç®—
export function calculateCFResults(cf) { ... }
```

---

### 6. ratios.js

**å½¹å‰²**: è²¡å‹™æ¯”ç‡ã®è¨ˆç®—ã¨è©•ä¾¡

**ä¸»è¦ãªé–¢æ•°**:
```javascript
// åç›Šæ€§æŒ‡æ¨™
export function calculateROE(netProfit, equity) { ... }
export function calculateROA(netProfit, totalAssets) { ... }

// å®‰å…¨æ€§æŒ‡æ¨™
export function calculateCurrentRatio(currentAssets, currentLiabilities) { ... }
export function calculateEquityRatio(equity, totalAssets) { ... }

// è©•ä¾¡ãƒ¬ãƒ™ãƒ«ã®åˆ¤å®š
export function getRatingLevel(ratioType, value) { ... }

// ç·åˆè©•ä¾¡ã®ç”Ÿæˆ
export function generateOverallAssessment(ratios) { ... }
```

**è©•ä¾¡åŸºæº–**:
å„æŒ‡æ¨™ã«å¯¾ã—ã¦ã€'good', 'warning', 'danger', 'unknown' ã®4æ®µéšè©•ä¾¡ã‚’æä¾›

---

### 7. integration.js

**å½¹å‰²**: è²¡å‹™ä¸‰è¡¨ã®è‡ªå‹•é€£æº

**ä¸»è¦ãªé–¢æ•°**:
```javascript
// P/L â†’ B/Sé€£æºï¼ˆå½“æœŸç´”åˆ©ç›Š â†’ åˆ©ç›Šå‰°ä½™é‡‘ï¼‰
export function syncPLtoBS(periodIndex) { ... }

// B/S â†’ C/Fé€£æºï¼ˆç¾é‡‘æ®‹é«˜ã€ç§‘ç›®å¢—æ¸›ï¼‰
export function syncBStoCF(periodIndex) { ... }

// å…¨æœŸé–“ã®é€£æº
export function syncAllPeriods() { ... }

// é€£æºæ©Ÿèƒ½ã®åˆæœŸåŒ–
export function initializeIntegration() { ... }
```

**é€£æºãƒ•ãƒ­ãƒ¼**:
```
P/Lå…¥åŠ› â†’ å½“æœŸç´”åˆ©ç›Šè¨ˆç®—
    â†“
B/Såˆ©ç›Šå‰°ä½™é‡‘æ›´æ–°
    â†“
B/Sç§‘ç›®å¢—æ¸›è¨ˆç®—
    â†“
C/Fè‡ªå‹•æ›´æ–°
    â†“
B/Sç¾é‡‘æ®‹é«˜åŒæœŸ
```

---

### 8. Views (dashboard.js, pl.js, bs.js, cf.js, etc.)

**å½¹å‰²**: å„ç”»é¢ã®ãƒ“ãƒ¥ãƒ¼ãƒ­ã‚¸ãƒƒã‚¯

**å…±é€šæ§‹é€ **:
```javascript
export function render(container) {
  // HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç”Ÿæˆ
  container.innerHTML = `...`;

  // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
  setupEventListeners();

  // åˆæœŸãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
  loadData();
}

function setupEventListeners() {
  // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã€å…¥åŠ›å¤‰æ›´ãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
}

function loadData() {
  // çŠ¶æ…‹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦è¡¨ç¤º
}
```

**ãƒ“ãƒ¥ãƒ¼ã®è²¬ä»»**:
- HTMLã®ç”Ÿæˆã¨æç”»
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®å—ä»˜
- çŠ¶æ…‹ã®æ›´æ–°ï¼ˆstate.jsã‚’é€šã˜ã¦ï¼‰
- è¨ˆç®—çµæœã®è¡¨ç¤º

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### 1. ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒ•ãƒ­ãƒ¼

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
    â†“
View: ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
    â†“
Utils: ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
    â†“
State: setState()ã§ãƒ‡ãƒ¼ã‚¿æ›´æ–°
    â†“
Storage: LocalStorageã«è‡ªå‹•ä¿å­˜
    â†“
Integration: è‡ªå‹•é€£æºå‡¦ç†
    â†“
State: é€£æºå¾Œã®ãƒ‡ãƒ¼ã‚¿æ›´æ–°
    â†“
Subscribers: è³¼èª­è€…ã«é€šçŸ¥
    â†“
View: UIã®å†æç”»
```

### 2. ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ãƒ•ãƒ­ãƒ¼

```
ã‚¢ãƒ—ãƒªèµ·å‹•
    â†“
State: initialize()
    â†“
Storage: load()ã§ãƒ‡ãƒ¼ã‚¿å–å¾—
    â†“
State: ãƒ‡ãƒ¼ã‚¿å¾©å…ƒ or æ–°è¦ä½œæˆ
    â†“
Router: åˆæœŸãƒšãƒ¼ã‚¸ã¸ãƒŠãƒ“ã‚²ãƒ¼ãƒˆ
    â†“
View: render()ã§ç”»é¢æç”»
    â†“
View: getState()ã§ãƒ‡ãƒ¼ã‚¿å–å¾—
    â†“
View: ãƒ‡ãƒ¼ã‚¿ã‚’ç”»é¢ã«è¡¨ç¤º
```

### 3. è²¡å‹™ä¸‰è¡¨é€£æºãƒ•ãƒ­ãƒ¼

```
P/Lç”»é¢ã§ãƒ‡ãƒ¼ã‚¿å…¥åŠ›
    â†“
setState() â†’ çŠ¶æ…‹æ›´æ–°
    â†“
Subscriberé€šçŸ¥
    â†“
Integration: syncPLtoBS()
    â†“
P/Lè¨ˆç®—: calculateNetProfit()
    â†“
B/Sæ›´æ–°: åˆ©ç›Šå‰°ä½™é‡‘ = å‰æœŸ + å½“æœŸç´”åˆ©ç›Š
    â†“
updatePeriod() â†’ B/SçŠ¶æ…‹æ›´æ–°
    â†“
Integration: syncBStoCF()
    â†“
B/Sç§‘ç›®å¢—æ¸›è¨ˆç®—
    â†“
C/Fæ›´æ–°: å–¶æ¥­CFé …ç›®ã®è‡ªå‹•è¨­å®š
    â†“
C/Fè¨ˆç®—: calculateCFResults()
    â†“
B/Sç¾é‡‘æ®‹é«˜æ›´æ–°: cash = æœŸæœ«ç¾é‡‘
    â†“
updatePeriod() â†’ æœ€çµ‚çŠ¶æ…‹æ›´æ–°
```

---

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«

- **Webãƒ–ãƒ©ã‚¦ã‚¶**: Chrome, Edge, Firefoxã®æœ€æ–°ç‰ˆ
- **ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**: VS Code, Sublime Text, Atomãªã©
- **ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼**: Live Serverï¼ˆVS Codeæ‹¡å¼µï¼‰ã¾ãŸã¯ `python -m http.server`

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**
```bash
git clone <repository-url>
cd 260108
```

2. **ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**

VS Codeã®å ´åˆ:
```
å³ã‚¯ãƒªãƒƒã‚¯ â†’ "Open with Live Server"
```

Pythonã®å ´åˆ:
```bash
python -m http.server 8000
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8000 ã‚’é–‹ã
```

3. **é–‹ç™ºç”¨ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®š**
- ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãï¼ˆF12ã‚­ãƒ¼ï¼‰
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ã‚’ç¢ºèª

### æ¨å¥¨VS Codeæ‹¡å¼µæ©Ÿèƒ½

- **Live Server**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
- **ESLint**: JavaScriptã®ãƒªãƒ³ãƒˆ
- **Prettier**: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- **Path Intellisense**: ãƒ‘ã‚¹è£œå®Œ
- **Auto Rename Tag**: HTMLã‚¿ã‚°ã®è‡ªå‹•ãƒªãƒãƒ¼ãƒ 

---

## ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

#### ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å®Ÿè¡Œ
1. `tests/test-runner.html` ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã
2. ã€Œã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ†ã‚¹ãƒˆçµæœã‚’ç¢ºèª

#### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿
ã€Œãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

#### çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿
ã€Œçµ±åˆãƒ†ã‚¹ãƒˆã®ã¿ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### ãƒ†ã‚¹ãƒˆã®æ§‹æˆ

#### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- **pl-calc.test.js**: P/Lè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
- **bs-calc.test.js**: B/Sè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
- **ratios.test.js**: è²¡å‹™æ¯”ç‡è¨ˆç®—ã®ãƒ†ã‚¹ãƒˆï¼ˆ0é™¤ç®—ã‚’å«ã‚€ï¼‰

#### çµ±åˆãƒ†ã‚¹ãƒˆ
- **state.test.js**: çŠ¶æ…‹ç®¡ç†ã¨ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ»èª­è¾¼ã®ãƒ†ã‚¹ãƒˆ
- **integration.test.js**: è²¡å‹™ä¸‰è¡¨é€£æºã®ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

æ–°ã—ã„ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆ:

```javascript
import * as module from '../../src/js/utils/module.js';

function test(name, fn) {
  tests.push({ name, fn });
}

function assertEquals(actual, expected, message = '') {
  if (actual !== expected) {
    throw new Error(`${message}: Expected ${expected}, got ${actual}`);
  }
}

test('ãƒ†ã‚¹ãƒˆå', () => {
  const result = module.someFunction(input);
  assertEquals(result, expected);
});

export function runTests() {
  // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ­ã‚¸ãƒƒã‚¯
}
```

---

## æ‹¡å¼µã‚¬ã‚¤ãƒ‰

### æ–°ã—ã„è²¡å‹™è«¸è¡¨ã‚’è¿½åŠ ã™ã‚‹

#### 1. ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ

`src/js/models/new-statement.js`:
```javascript
export function createNewStatement() {
  return {
    item1: 0,
    item2: 0,
    // ...
  };
}
```

#### 2. è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…

`src/js/utils/new-calc.js`:
```javascript
export function calculateTotal(data) {
  return data.item1 + data.item2;
}
```

#### 3. ãƒ“ãƒ¥ãƒ¼ã®ä½œæˆ

`src/js/views/new-statement.js`:
```javascript
export function render(container) {
  container.innerHTML = `
    <h2>æ–°ã—ã„è²¡å‹™è«¸è¡¨</h2>
    <!-- UIè¦ç´  -->
  `;

  setupEventListeners();
  loadData();
}

function setupEventListeners() {
  // ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
}

function loadData() {
  const state = getState();
  // ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
}
```

#### 4. ãƒ«ãƒ¼ã‚¿ãƒ¼ã¸ã®ç™»éŒ²

`src/js/router.js`:
```javascript
const routes = {
  // ...
  'new-statement': () => import('./views/new-statement.js')
};
```

#### 5. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®è¿½åŠ 

`index.html`:
```html
<a href="#new-statement" class="nav-item" data-page="new-statement">
  <span class="nav-icon">ğŸ“„</span>
  <span class="nav-text">æ–°ã—ã„è²¡å‹™è«¸è¡¨</span>
</a>
```

#### 6. æœŸé–“ãƒ¢ãƒ‡ãƒ«ã¸ã®è¿½åŠ 

`src/js/models/period.js`:
```javascript
export function createPeriod(year, month) {
  return {
    // ...
    newStatement: createNewStatement()
  };
}
```

---

### æ–°ã—ã„è²¡å‹™æŒ‡æ¨™ã‚’è¿½åŠ ã™ã‚‹

#### 1. è¨ˆç®—é–¢æ•°ã®å®Ÿè£…

`src/js/utils/ratios.js`:
```javascript
/**
 * æ–°ã—ã„æŒ‡æ¨™ã‚’è¨ˆç®—
 * @param {number} value1 - å€¤1
 * @param {number} value2 - å€¤2
 * @returns {number|null} æŒ‡æ¨™å€¤ã€è¨ˆç®—ä¸å¯ã®å ´åˆã¯null
 */
export function calculateNewRatio(value1, value2) {
  if (!value2 || value2 === 0) return null;
  return (value1 / value2) * 100;
}
```

#### 2. è©•ä¾¡åŸºæº–ã®è¿½åŠ 

`src/js/utils/ratios.js` ã® `getRatingLevel()`:
```javascript
const thresholds = {
  // ...
  newRatio: { good: 50, warning: 30 }
};
```

#### 3. ãƒ“ãƒ¥ãƒ¼ã¸ã®è¿½åŠ 

`src/js/views/analysis.js`:
```javascript
const newRatio = calculateNewRatio(value1, value2);
html += `
  <div class="ratio-item">
    <span class="ratio-label">æ–°ã—ã„æŒ‡æ¨™</span>
    <span class="ratio-value ${getRatingLevel('newRatio', newRatio)}">
      ${formatRatioPercent(newRatio)}
    </span>
  </div>
`;
```

#### 4. ãƒ†ã‚¹ãƒˆã®è¿½åŠ 

`tests/unit/ratios.test.js`:
```javascript
test('calculateNewRatio - æ­£å¸¸è¨ˆç®—', () => {
  assertApproxEquals(ratios.calculateNewRatio(100, 200), 50);
});

test('calculateNewRatio - 0é™¤ç®—', () => {
  assertNull(ratios.calculateNewRatio(100, 0));
});
```

---

### ã‚°ãƒ©ãƒ•ã®è¿½åŠ 

#### 1. ãƒãƒ£ãƒ¼ãƒˆè¨­å®šã®ä½œæˆ

`src/js/utils/chart-config.js`:
```javascript
export function createNewChartConfig(data) {
  return {
    type: 'line',
    data: {
      labels: data.labels,
      datasets: [{
        label: 'æ–°ã—ã„ã‚°ãƒ©ãƒ•',
        data: data.values,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }]
    },
    options: {
      responsive: true,
      // ...
    }
  };
}
```

#### 2. ãƒ“ãƒ¥ãƒ¼ã§ã®æç”»

```javascript
import { createNewChartConfig } from '../utils/chart-config.js';

const canvas = document.getElementById('newChart');
const ctx = canvas.getContext('2d');
const config = createNewChartConfig(chartData);
new Chart(ctx, config);
```

---

### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼ã®è¿½åŠ 

#### 1. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé–¢æ•°ã®å®Ÿè£…

`src/js/utils/export.js`:
```javascript
export function exportToNewFormat(data) {
  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
  const formatted = convertData(data);

  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†
  const blob = new Blob([formatted], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'export.txt';
  a.click();
}
```

#### 2. UIã¸ã®è¿½åŠ 

```javascript
document.getElementById('exportNewBtn').addEventListener('click', () => {
  const state = getState();
  exportToNewFormat(state);
});
```

---

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### JavaScriptã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰

#### å‘½åè¦å‰‡
- **å¤‰æ•°ãƒ»é–¢æ•°**: camelCase
  ```javascript
  const userName = 'John';
  function calculateTotal() { ... }
  ```

- **å®šæ•°**: UPPER_SNAKE_CASE
  ```javascript
  const MAX_VALUE = 100;
  const API_ENDPOINT = 'https://api.example.com';
  ```

- **ã‚¯ãƒ©ã‚¹**: PascalCase
  ```javascript
  class UserProfile { ... }
  ```

#### ã‚³ãƒ¡ãƒ³ãƒˆ
- **JSDocå½¢å¼**ã‚’ä½¿ç”¨
  ```javascript
  /**
   * é–¢æ•°ã®èª¬æ˜
   * @param {number} value - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¬æ˜
   * @returns {number} æˆ»ã‚Šå€¤ã®èª¬æ˜
   */
  function example(value) { ... }
  ```

#### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **ES6 Modules**ã‚’ä½¿ç”¨
  ```javascript
  // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
  export function myFunction() { ... }
  export const myVariable = 10;

  // ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  import { myFunction, myVariable } from './module.js';
  ```

#### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **try-catch**ã‚’é©åˆ‡ã«ä½¿ç”¨
  ```javascript
  try {
    const data = JSON.parse(jsonString);
  } catch (error) {
    console.error('Failed to parse JSON:', error);
    return null;
  }
  ```

#### éåŒæœŸå‡¦ç†
- **async/await**ã‚’å„ªå…ˆ
  ```javascript
  async function loadData() {
    try {
      const response = await fetch(url);
      const data = await response.json();
      return data;
    } catch (error) {
      console.error('Failed to load data:', error);
    }
  }
  ```

### CSSã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰

#### BEMå‘½åè¦å‰‡
```css
/* Block */
.card { ... }

/* Element */
.card__title { ... }
.card__content { ... }

/* Modifier */
.card--highlighted { ... }
```

#### CSSå¤‰æ•°ã®ä½¿ç”¨
```css
:root {
  --primary-color: #667eea;
  --secondary-color: #764ba2;
  --text-color: #333;
}

.button {
  background-color: var(--primary-color);
  color: white;
}
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**:
```
Failed to load module script: The server responded with a non-JavaScript MIME type
```

**åŸå› **:
- ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦é–‹ã„ã¦ã„ã‚‹ï¼ˆ`file://`ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼‰
- ã‚µãƒ¼ãƒãƒ¼ãŒJavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ­£ã—ã„MIMEã‚¿ã‚¤ãƒ—ã§æä¾›ã—ã¦ã„ãªã„

**è§£æ±ºç­–**:
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ï¼ˆLive Serverã€python http.server ãªã©ï¼‰
- `.js`ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãé…ä¿¡ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

### LocalStorageãŒå‹•ä½œã—ãªã„

**åŸå› **:
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰
- LocalStorageãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã®è¶…é

**è§£æ±ºç­–**:
```javascript
// LocalStorageã®å¯ç”¨æ€§ãƒã‚§ãƒƒã‚¯
function isLocalStorageAvailable() {
  try {
    const test = '__test__';
    localStorage.setItem(test, test);
    localStorage.removeItem(test);
    return true;
  } catch (e) {
    return false;
  }
}
```

---

### çŠ¶æ…‹æ›´æ–°ãŒåæ˜ ã•ã‚Œãªã„

**åŸå› **:
- è³¼èª­ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„
- çŠ¶æ…‹æ›´æ–°æ™‚ã«`autoSave`ãŒfalseã«ãªã£ã¦ã„ã‚‹

**è§£æ±ºç­–**:
```javascript
// è³¼èª­ã®è¨­å®šã‚’ç¢ºèª
const unsubscribe = subscribe((newState) => {
  console.log('State updated:', newState);
  updateUI(newState);
});

// çŠ¶æ…‹æ›´æ–°æ™‚ã«autoSaveã‚’æœ‰åŠ¹åŒ–
setState({ key: value }, true);
```

---

### è²¡å‹™ä¸‰è¡¨ã®é€£æºãŒå‹•ä½œã—ãªã„

**åŸå› **:
- `initializeIntegration()`ãŒå‘¼ã°ã‚Œã¦ã„ãªã„
- ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’é˜²ããŸã‚ã®`autoSave: false`è¨­å®š

**è§£æ±ºç­–**:
```javascript
// app.jsã§åˆæœŸåŒ–ã‚’ç¢ºèª
import { initializeIntegration } from './utils/integration.js';
initializeIntegration();

// integration.jsã®è³¼èª­å‡¦ç†ã‚’ç¢ºèª
// setStateæ™‚ã«autoSaveã‚’falseã«ã—ã¦ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’é˜²ã
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- **ä¸è¦ãªå†æç”»ã‚’é¿ã‘ã‚‹**
  ```javascript
  // NG: æ¯å›å…¨ä½“ã‚’å†æç”»
  function updateUI() {
    container.innerHTML = generateHTML();
  }

  // OK: å¤‰æ›´éƒ¨åˆ†ã®ã¿æ›´æ–°
  function updateUI(changedData) {
    const element = document.getElementById('specific-element');
    element.textContent = changedData.value;
  }
  ```

- **ãƒ‡ãƒã‚¦ãƒ³ã‚¹/ã‚¹ãƒ­ãƒƒãƒˆãƒ«ã®ä½¿ç”¨**
  ```javascript
  let timeout;
  input.addEventListener('input', (e) => {
    clearTimeout(timeout);
    timeout = setTimeout(() => {
      handleInput(e.target.value);
    }, 300);
  });
  ```

### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **XSSå¯¾ç­–**
  ```javascript
  // NG: innerHTML ã§ç›´æ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ä½¿ç”¨
  div.innerHTML = userInput;

  // OK: textContent ã‚’ä½¿ç”¨
  div.textContent = userInput;
  ```

- **ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼**
  ```javascript
  function validateInput(value) {
    if (typeof value !== 'number' || isNaN(value)) {
      throw new Error('Invalid input');
    }
    if (value < 0 || value > MAX_VALUE) {
      throw new Error('Out of range');
    }
    return value;
  }
  ```

### 3. ä¿å®ˆæ€§

- **ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã‚’é¿ã‘ã‚‹**
  ```javascript
  // NG
  if (ratio > 0.01) { ... }

  // OK
  const BALANCE_TOLERANCE = 0.01;
  if (ratio > BALANCE_TOLERANCE) { ... }
  ```

- **é–¢æ•°ã¯å°ã•ãä¿ã¤**
  - 1ã¤ã®é–¢æ•°ã¯1ã¤ã®è²¬ä»»ã®ã¿
  - ç›®å®‰: 50è¡Œä»¥å†…

- **æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³**
  ```javascript
  function calculate(value) {
    if (!value) return null;
    if (value < 0) return null;

    // ãƒ¡ã‚¤ãƒ³å‡¦ç†
    return result;
  }
  ```

---

## ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹

### 1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

`index.html`ã¨`docs/USER_MANUAL.md`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’æ›´æ–°:
```html
<span class="version">Version 1.1.0</span>
```

### 2. ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã§test-runner.htmlã‚’é–‹ã„ã¦ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª
```

### 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°

- USER_MANUAL.mdã®æ›´æ–°å±¥æ­´ã‚’è¿½åŠ 
- DEVELOPER_GUIDE.mdã«å¤‰æ›´ç‚¹ã‚’è¨˜è¼‰

### 4. ãƒ“ãƒ«ãƒ‰ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰

ç¾åœ¨ã¯ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€å°†æ¥çš„ã«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆWebpackã€Rollupãªã©ï¼‰ã‚’å°å…¥ã™ã‚‹å ´åˆ:
```bash
npm run build
```

---

## è²¢çŒ®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### Issueå ±å‘Š

- ãƒã‚°ã®å ´åˆ: å†ç¾æ‰‹é †ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€å®Ÿéš›ã®å‹•ä½œã‚’è¨˜è¼‰
- æ©Ÿèƒ½è¦æœ›ã®å ´åˆ: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€æœŸå¾…ã•ã‚Œã‚‹æ©Ÿèƒ½ã‚’æ˜ç¢ºã«è¨˜è¼‰

### Pull Request

1. ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…
3. ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ãƒ»æ›´æ–°
4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
5. Pull Requestã‚’ä½œæˆ

---

## ã‚µãƒãƒ¼ãƒˆã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£

- **GitHub Issues**: ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½è¦æœ›
- **Discussions**: è³ªå•ãƒ»ã‚¢ã‚¤ãƒ‡ã‚¢ã®å…±æœ‰

---

**è²¡å‹™ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ  é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰ çµ‚ã‚ã‚Š**
