# 財務モデリングシステム 開発タスク一覧

## 概要
このドキュメントは財務モデリングシステムの開発タスクを整理したものです。
優先度と依存関係を考慮して、フェーズごとに分類しています。

---

## Phase 1: 基盤構築（必須機能）

### 1.1 プロジェクトセットアップ
- [ ] **TASK-001**: プロジェクト構造の作成
  - `/src` - ソースコード
  - `/src/css` - スタイルシート
  - `/src/js` - JavaScript
  - `/src/js/models` - データモデル
  - `/src/js/views` - 画面表示
  - `/src/js/utils` - ユーティリティ
  - `/assets` - 画像等のリソース

- [ ] **TASK-002**: 基本HTMLテンプレートの作成
  - ヘッダー、サイドバー、メインエリア、フッターのレイアウト
  - レスポンシブ対応の基本設定

- [ ] **TASK-003**: CSSフレームワークの構築
  - CSS変数（カラーパレット、フォント等）の定義
  - 共通コンポーネントスタイル（ボタン、フォーム、テーブル等）
  - ダークモード対応（オプション）

- [ ] **TASK-004**: JavaScriptモジュール構造の設計
  - ES6モジュールの設定
  - イベント管理の基盤
  - ルーティング（SPA風のページ切り替え）

### 1.2 データ管理基盤
- [ ] **TASK-005**: データモデルの実装
  - 会社情報モデル
  - 期間データモデル
  - P/L、B/S、C/Fの構造定義

- [ ] **TASK-006**: LocalStorageマネージャーの実装
  - データの保存・読込
  - バージョン管理（マイグレーション対応）
  - エラーハンドリング

- [ ] **TASK-007**: 状態管理の実装
  - アプリケーション状態の管理
  - 変更検知・自動保存

---

## Phase 2: 財務三表の実装

### 2.1 損益計算書 (P/L)
- [ ] **TASK-008**: P/L入力フォームの作成
  - 売上高入力フィールド
  - 売上原価入力（金額 or 原価率）
  - 販管費カテゴリ別入力
  - 営業外収益・費用入力

- [ ] **TASK-009**: P/L計算ロジックの実装
  - 売上総利益 = 売上高 - 売上原価
  - 営業利益 = 売上総利益 - 販管費
  - 経常利益 = 営業利益 + 営業外収益 - 営業外費用
  - 当期純利益 = 経常利益 - 法人税等

- [ ] **TASK-010**: P/L表示テーブルの作成
  - 月次/年次切り替え
  - 前期比較表示
  - 構成比率表示

### 2.2 貸借対照表 (B/S)
- [ ] **TASK-011**: B/S入力フォームの作成
  - 資産（流動・固定）入力
  - 負債（流動・固定）入力
  - 純資産入力

- [ ] **TASK-012**: B/S計算ロジックの実装
  - 資産合計の計算
  - 負債合計の計算
  - 純資産合計の計算
  - バランスチェック（資産 = 負債 + 純資産）

- [ ] **TASK-013**: B/S表示テーブルの作成
  - 勘定式 or 報告式の選択
  - 前期比較表示

### 2.3 キャッシュフロー計算書 (C/F)
- [ ] **TASK-014**: C/F入力フォームの作成
  - 営業CF調整項目
  - 投資CF項目
  - 財務CF項目

- [ ] **TASK-015**: C/F計算ロジックの実装
  - 営業CF（間接法）の計算
  - 投資CFの計算
  - 財務CFの計算
  - 期末現金残高の計算

- [ ] **TASK-016**: C/F表示テーブルの作成
  - 3区分の明細表示
  - 期首・期末残高の表示

### 2.4 財務三表の連携
- [ ] **TASK-017**: P/L → B/Sの連携
  - 当期純利益 → 利益剰余金への反映

- [ ] **TASK-018**: B/S → C/Fの連携
  - 現金残高の同期
  - 各科目増減のCF反映

---

## Phase 3: 分析・可視化機能

### 3.1 財務比率分析
- [ ] **TASK-019**: 収益性指標の実装
  - 売上総利益率
  - 営業利益率
  - 経常利益率
  - 当期純利益率

- [ ] **TASK-020**: 効率性指標の実装
  - ROE（自己資本利益率）
  - ROA（総資産利益率）
  - 総資産回転率

- [ ] **TASK-021**: 安全性指標の実装
  - 流動比率
  - 当座比率
  - 自己資本比率
  - 負債比率

- [ ] **TASK-022**: 財務分析ダッシュボードの作成
  - KPIカード表示
  - 指標の良否判定（色分け）
  - 業界平均との比較（将来機能）

### 3.2 グラフ・チャート
- [ ] **TASK-023**: Chart.jsの導入と基本設定
  - ライブラリの読み込み
  - 共通設定（色、フォント等）
  - レスポンシブ対応

- [ ] **TASK-024**: 売上・利益推移グラフ
  - 折れ線グラフ
  - 月次/年次切り替え
  - 複数指標の重ね表示

- [ ] **TASK-025**: 費用構成グラフ
  - 円グラフ（費用内訳）
  - 積み上げ棒グラフ（月次推移）

- [ ] **TASK-026**: B/S構成グラフ
  - 積み上げ棒グラフ（資産・負債・純資産）
  - 左右対称表示

- [ ] **TASK-027**: C/Fウォーターフォールチャート
  - 期首残高から期末残高への変化表示

---

## Phase 4: 予測・シミュレーション

### 4.1 基本予測機能
- [ ] **TASK-028**: 成長率ベース予測の実装
  - 売上成長率の設定
  - 費用比率の設定
  - 予測期間の設定（1〜5年）

- [ ] **TASK-029**: 予測P/Lの生成
  - 成長率に基づく売上予測
  - 費用比率に基づく費用予測
  - 予測利益の計算

- [ ] **TASK-030**: 予測B/S・C/Fの生成
  - P/L連動でのB/S予測
  - C/Fの自動生成

### 4.2 シナリオ分析
- [ ] **TASK-031**: シナリオ設定機能
  - 楽観シナリオの設定
  - 標準シナリオの設定
  - 悲観シナリオの設定

- [ ] **TASK-032**: シナリオ比較表示
  - 3シナリオの並列表示
  - グラフでの比較表示

---

## Phase 5: データ入出力

### 5.1 エクスポート機能
- [ ] **TASK-033**: CSVエクスポートの実装
  - P/L、B/S、C/F個別出力
  - 全データ一括出力
  - 文字コード選択（UTF-8/Shift-JIS）

- [ ] **TASK-034**: JSONエクスポートの実装
  - 全データのバックアップ用

### 5.2 インポート機能
- [ ] **TASK-035**: CSVインポートの実装
  - テンプレートのダウンロード
  - ファイル選択・読み込み
  - データ検証・エラー表示

- [ ] **TASK-036**: JSONインポートの実装
  - バックアップからの復元
  - バージョン互換性チェック

---

## Phase 6: UI/UX改善

### 6.1 ダッシュボード
- [ ] **TASK-037**: ダッシュボード画面の作成
  - 主要KPIの一覧表示
  - ミニグラフの表示
  - クイックアクションボタン

### 6.2 ユーザビリティ
- [ ] **TASK-038**: キーボードショートカットの実装
  - 保存: Ctrl+S
  - ページ切り替え: Ctrl+1〜6
  - ヘルプ: F1

- [ ] **TASK-039**: 入力補助機能
  - 数値フォーマット（カンマ区切り）
  - 計算機能（+, -, *, /）
  - 前期コピー機能

- [ ] **TASK-040**: ツールチップ・ヘルプの追加
  - 用語説明
  - 入力ガイド
  - 計算式の表示

### 6.3 設定画面
- [ ] **TASK-041**: 設定画面の作成
  - 会社情報設定
  - 会計期間設定
  - 表示設定（通貨、小数点等）
  - データ管理（リセット、バックアップ）

---

## Phase 7: テスト・ドキュメント

### 7.1 テスト
- [ ] **TASK-042**: ユニットテストの作成
  - 計算ロジックのテスト
  - データモデルのテスト

- [ ] **TASK-043**: 統合テストの作成
  - 画面遷移テスト
  - データ保存・読込テスト

- [ ] **TASK-044**: ブラウザ互換性テスト
  - Chrome, Firefox, Safari, Edgeでの動作確認

### 7.2 ドキュメント
- [ ] **TASK-045**: ユーザーマニュアルの作成
  - 基本操作ガイド
  - 各画面の説明
  - FAQ

- [ ] **TASK-046**: 開発者ドキュメントの作成
  - アーキテクチャ説明
  - API（関数）リファレンス
  - 拡張ガイド

---

## タスク優先度マトリクス

| 優先度 | タスク番号 | 備考 |
|--------|-----------|------|
| **最高** | 001-007 | 基盤なしでは何も作れない |
| **高** | 008-018 | コア機能（財務三表） |
| **中** | 019-027, 037 | 分析・可視化 |
| **低** | 028-036 | 予測機能 |
| **任意** | 038-046 | 品質向上 |

---

## 依存関係図

```
TASK-001 ─┬─> TASK-002 ─> TASK-003 ─> TASK-004
          │
          └─> TASK-005 ─> TASK-006 ─> TASK-007
                │
                ├─> TASK-008 ─> TASK-009 ─> TASK-010 ─┐
                │                                      │
                ├─> TASK-011 ─> TASK-012 ─> TASK-013 ─┼─> TASK-017 ─> TASK-018
                │                                      │
                └─> TASK-014 ─> TASK-015 ─> TASK-016 ─┘
                                                       │
                                                       v
                    TASK-023 ─> TASK-024/025/026/027
                                                       │
                    TASK-019/020/021 ─> TASK-022 <─────┘
                                           │
                                           v
                    TASK-028 ─> TASK-029 ─> TASK-030 ─> TASK-031 ─> TASK-032
```

---

## 見積もり工数（参考）

| Phase | タスク数 | 複雑度 |
|-------|---------|--------|
| Phase 1 | 7 | 中 |
| Phase 2 | 11 | 高 |
| Phase 3 | 9 | 中 |
| Phase 4 | 5 | 中 |
| Phase 5 | 4 | 低 |
| Phase 6 | 5 | 低 |
| Phase 7 | 5 | 低 |
| **合計** | **46** | - |

---

## 次のアクション

1. **Phase 1** のタスクから着手
2. TASK-001〜004 を並行して進行可能
3. TASK-005〜007 は順次実装

---

**作成日**: 2026-01-08
**バージョン**: 1.0
